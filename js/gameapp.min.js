var igdb_api="https://igdbcom-internet-game-database-v1.p.mashape.com/games/";if(igdb_api+="?filter%5Brelease_dates.platform%5D%5Beq%5D=6",igdb_api+="?fields=name%2crating%2caggregated_rating%2crelease_dates.platform%2ccover.cloudinary_id&limit=10&offset=0%3Adesc&search=",navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement("style");msViewportStyle.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.querySelector("head").appendChild(msViewportStyle)}angular.module("gameJudgement",[]).controller("gameSearchController",["$http","$scope",function($http,$scope){function gameNameCleaner(){for(var i=0;i<$scope.steamList.length;i++)for(var j=0;j<$scope.games.length;j++)$scope.games[j].name.toLowerCase()==$scope.steamList[i].name.toLowerCase()?$scope.games[j].name=$scope.steamList[i].name:$scope.games[j].name.replace(": "," ").toLowerCase()===$scope.steamList[i].name.toLowerCase()?$scope.games[j].name=$scope.steamList[i].name:$scope.games[j].name.replace(": "," - ").toLowerCase()===$scope.steamList[i].name.toLowerCase()?$scope.games[j].name=$scope.steamList[i].name:$scope.games[j].name.replace("and","&")==$scope.steamList[i].name?$scope.games[j].name=$scope.steamList[i].name:$scope.steamList[i].name.replace("_"," ")===$scope.games[j].name?$scope.games[j].name=$scope.steamList[i].name:$scope.steamList[i].name.replace("®","")==$scope.games[j].name?$scope.games[j].name=$scope.steamList[i].name:$scope.steamList[i].name.replace("™","").toLowerCase()==$scope.games[j].name.toLowerCase()?$scope.games[j].name=$scope.steamList[i].name:$scope.steamList[i].name.replace("™","").toLowerCase()==$scope.games[j].name.replace(": "," ").toLowerCase()?$scope.games[j].name=$scope.steamList[i].name:$scope.games[j].name.toUpperCase()==$scope.steamList[i].name&&($scope.games[j].name=$scope.steamList[i].name)}$scope.games={},$scope.steamList=[],$http.defaults.headers.common["X-Mashape-Key"]="my_IGDB_API_Key",$scope.target=parseInt(document.getElementById("target").value,10),$scope.target||($scope.target=75),$http.get("/steamList.json").success(function(data,status,headers,config){$scope.steamList=data,gameNameCleaner()}),$scope.search=function(search){$scope.target=parseInt(document.getElementById("target").value,10),$scope.target||($scope.target=75),igdb_api+=document.getElementById("search").value,$http.get(igdb_api,{headers:{"X-Mashape-Key":"my_IGDB_API_Key",Accept:"application/json"}}).success(function(data,status,headers,config){$scope.games=data,gameNameCleaner()})}}]);