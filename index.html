<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!--Code for jQuery and bootstrap-->
        <script src="js/jquery-3.1.1.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <!-- adding required angular JS library and angular JS script-->
        <script src="js/angular.min.js"></script>
        <script src="js/gameapp.js"></script>
        <script src="js/gameSearchComponent.js"></script>
        <script src="js/recentReleases.js"></script>
        <script src="js/releaseComponent.js"></script>
        <script>
        // Google analytics code
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
          ga('create', 'MY_GA_ACCOUNT_KEY', 'auto');
          ga('send', 'pageview');
        </script>
        <!--Code to fetch web fonts from Google Fonts-->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">
        <!-- adding CSS for bootstrap-->
        <link rel="stylesheet" href="css/bootstrap.min.css" crossorigin="anonymous">
        <!-- adding CSS for the page-->
        <link rel="stylesheet" href="/css/style.css" type="text/css" />
        <title>GameDecision - Find out if you should buy that game</title>
    </head>
    <body ngjq ng-app="gameJudgement">
        <div>
            <!--Google Adsense code-->
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <!-- Responsive Ads -->
            <ins class="adsbygoogle responsive_ads"
                 style="display:inline-block"
                 data-ad-client="MY_ADSENSE_AD_CLIENT_KEY"
                 data-ad-slot="MY_ADSENSE_AD_SLOT_KEY"
                 data-ad-format="auto"></ins>
            <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        <div ng-controller="gameSearchCtrl as searchctrl">
            <div ng-controller="recentReleasesCtrl as ctrl">
                <div class="container-fluid"> 
                    <h1 id="site-title"><a href="/"><b>GameDecision</b></a></h1>
                    <p id="slogan">Find out if you should buy that game</p>
                    <p>Notes: For recent releases, leave the name box blank, type in a threshold and click "recent releases".</p>
                    <br />
                    <p>Smartphone users: turn your phone sideways/to a landscape orientation.</p>
                    <br />
                    <p>Threshold is the target score that shall be used to determine if a game is worth buying or not. If you decide not to set the threshold then by default it's set to 75.</p>
                    <form class="form-horizontal">
                        <!--A form for the user to type in their search query for their game-->
                        <div class="form-group">
                            <label>Game name:</label>
                            <p><input id="search" type="text" placeholder="game" name="search"/></p>
                        </div>
                        <div class="form-group">
                            <!--This is the target score which is used to determine if a game is worth buying(which is 75 by default). More on this down below-->
                            <label>Threshold (between 1 and 100 please):</label>
                            <p><input id="target" type="text" placeholder="target" name="target"/></p>

                        </div>
                        <div id="form_buttons">
                            <button type="submit" class="btn btn-primary" ng-click="search(search)">
                                <p>Search</p>    
                            </button>
                            <button  type="submit" class="btn btn-primary" ng-click="getReleases()">
                                Recent releases
                            </button>
                        </div>
                    </form>
                </div>
                <h3 ng-show="searchctrl.games.length == 0">No results</h3>
                <div id="search-results-table" class="table-responsive" ng-if="searchctrl.games.length > 0">
                    <div class="div-table">
                        <div class="div-table-row">
                            <div class="div-table-heading">
                                <div class="div-table-cell">
                                    <p><b>Name</b></p>
                                </div>
                                <div class="div-table-cell">
                                    <p><b>Press Rating</b></p>
                                </div>
                                <div class="div-table-cell">
                                    <p><b>Players' Rating</b></p>
                                </div>
                                <div class="div-table-cell">
                                    <p><b>Verdict</b></p>
                                </div>
                                <div class="div-table-cell">
                                    <p><b>Cover/Box Art</b></p>
                                </div>
                                <div class="div-table-cell">
                                    <p><b>Steam Link</b></p>
                                </div>
                            </div>
                            <search-results id="resultsRow" class="div-table-row" game="game" ng-repeat="game in searchctrl.games" right-now="searchctrl.rightNow" target="target" steam-list="searchctrl.steamList"></search-results>
                        </div>
                    </div>
                </div>
                <h3 ng-show="ctrl.newReleases.length == 0">No results</h3>
                <div  class="table-responsive" id="recent-releases-table" ng-show="ctrl.newReleases.length > 0">
                    <h3>Recent Releases</h3>
                    <div class="div-table">
                        <div class="div-table-body">    
                            <div class="div-table-row">
                                <div class="div-table-heading">
                                    <div class="div-table-cell">
                                        <p><b>Name</b></p>
                                    </div>
                                    <div class="div-table-cell">
                                        <p><b>Press Rating</b></p>
                                    </div>
                                    <div class="div-table-cell">
                                        <p><b>Players' Rating</b></p>
                                    </div>
                                    <div class="div-table-cell">
                                        <p><b>Verdict</b></p>
                                    </div>
                                    <div class="div-table-cell">
                                        <p><b>Cover/Box Art</b></p>
                                    </div>
                                    <div class="div-table-cell">
                                        <p><b>Steam Link</b></p>
                                    </div>
                                </div>
                                <releases class="div-table-row" release="release" ng-repeat="release in ctrl.newReleases" right-now="ctrl.rightNow" three-months-ago="ctrl.threeMonthsAgo" steam-list="ctrl.steamList" target="target">
                                </releases>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <p>Information was freely provided by <a href="http://www.igdb.com">IGDB.com</a></p>
            <p>
            This site is not associated/affiliated with Steam or Valve Corp. 
            </p>
        </div>
    </body>
</html>